<html>
<body>
На основе анализа потока данных сообщает о постоянных нарушениях соглашений о null-безопасности, возможных исключениях или просто избыточных конструкциях кода.
<p>Пример:</p>
<pre><code>if (array.length &lt; index) {
  System.out.println(array[index]);
} // Индекс массива всегда выходит за границы
if (str == null) System.out.println("str is null");
System.out.println(str.trim());
// Последний оператор может вызвать NPE
@NotNull
Integer square(@Nullable Integer input) {
    // Нарушение контракта метода
    return input == null ? null : input * input;
}</code></pre>
<p>
  Поведение проверки может контролироваться различными аннотациями, например аннотациями <a href="https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html">null-безопасности</a>, аннотацией <code><a href="https://www.jetbrains.com/help/idea/contract-annotations.html">@Contract</a></code>, аннотацией <code>@Range</code> и другими.
</p>
<p>Настройка проверки:</p>
<ul>
  <li>Опция <b>Предлагать аннотацию @Nullable для методов/полей/параметров, которые могут принимать null</b> выдает предупреждения в случаях, когда null передается в качестве аргумента методу с неаннотированным параметром, сохраняется в неаннотированное поле или возвращается из неаннотированного метода. В этих случаях проверка предложит распространить аннотацию <code>@Nullable</code>. Вы также можете настроить аннотации null-безопасности с помощью кнопки <b>Настроить аннотации</b>.</li>
  <li>Опция <b>Рассматривать неаннотированные члены и параметры как @Nullable</b> предполагает, что неаннотированные члены могут быть null и поэтому не должны использоваться в контексте non-null.</li>
  <li>Опция <b>Сообщать о non-null обязательных параметрах, используемых с null литералами</b> сообщает о параметрах методов, которые не могут быть null (например, сразу разыменовываются в теле метода), но имеют точки вызова, где передается литерал <code>null</code>.</li>
  <li>Опция <b>Сообщать о методах, помеченных как @Nullable, которые всегда возвращают non-null значение</b> сообщает о методах, аннотированных как <code>@Nullable</code>, но всегда возвращающих non-null значение. В этом случае рекомендуется изменить аннотацию на <code>@NotNull</code>.</li>
  <li>Опция <b>Игнорировать assert-выражения</b> управляет тем, как проверка обрабатывает операторы <code>assert</code>. По умолчанию эта опция отключена, что означает, что утверждения рассматриваются как выполняемые (режим -ea). Если опция включена, утверждения полностью игнорируются (режим -da).</li>
  <li>Опция <b>Сообщать о проблемах, возникающих только на некоторых путях выполнения</b> управляет тем, сообщать ли о проблемах, которые возникают только на определённых путях выполнения кода. Если эта опция отключена, предупреждения типа <i>возможно исключение</i> не будут показываться. Проверка будет сообщать только о предупреждениях типа <i>исключение точно произойдет</i>. Этот режим может значительно уменьшить количество ложных срабатываний, особенно если код не последовательно аннотирован аннотациями null-безопасности и контрактов. Поэтому он полезен для поиска наиболее важных проблем в устаревших кодовых базах.
  </li>
</ul>
<p>
  До версии IntelliJ ИСРA 2022.3 эта проверка была частью проверки "Константные условия и исключения".
  Теперь она разделена на две проверки: "Константные значения" и "Проблемы null-безопасности и потока данных".
</p>
</body>
</html>
