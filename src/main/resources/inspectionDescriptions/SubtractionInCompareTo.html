<html>
<body>
Сообщает о вычитании в методе <code>compareTo()</code> и методах, реализующих <code>java.util.Comparator.compare()</code>.
<p>
  Хотя использование результата целочисленного вычитания в качестве результата метода <code>compareTo()</code> является распространенной практикой, такая конструкция может привести к труднообнаруживаемым ошибкам в случае целочисленного переполнения.
  В большинстве случаев лучше напрямую сравнивать целочисленные значения и возвращать <code>-1</code>, <code>0</code> или <code>1</code>.
</p>
<p>
  Округление может привести к потере точности, поэтому также сообщается о вычитании чисел с плавающей точкой с прямым преобразованием в целое число.
</p>
<p>
  Проверка не выполняется, если диапазон значений статически определен как ограниченный и переполнение никогда не произойдет.
  Кроме того, вычитание чисел типа <code>int</code>, которые больше или равны <code>0</code>, никогда не вызовет переполнение.
  Поэтому в таких случаях это предупреждение не выдается.
</p>
<p>
  Методы, которые всегда возвращают нуль или большее значение, могут быть помечены аннотацией <code>javax.annotation.Nonnegative</code> или указаны в параметрах этой проверки.
</p>
<p><b>Пример:</b></p>
<pre><code>
  class DoubleHolder implements Comparable&lt;DoubleHolder&gt; {
    double d;
    public int compareTo(DoubleHolder that) {
        return (int)(this.d - that.d);
    }
 }
</code></pre>
<p>Это пример без предупреждения, так как известно, что <code>String.length()</code> неотрицательный:</p>
<pre><code>
  class A implements Comparable&lt;A&gt; {
    final String s = "";
    public int compareTo(A a) {
        return s.length() - a.s.length();
    }
 }
</code></pre>
<p>
  Используйте эти параметры для указания методов, которые безопасно использовать в вычитании.
  Метод считается безопасным, если он возвращает значение типа <code>int</code>, которое всегда больше или равно <code>0</code>.
</p>
</body>
</html>
